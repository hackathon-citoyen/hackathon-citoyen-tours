<page-title>Connexion</page-title>

<div class="container">
  <div class="row">
    <div class="col-sm-12" style="margin-bottom: 16px;">
      <h1>Connectez-vous à votre compte</h1>
    </div>
    <div class="col-sm-12">
      <form class="form" name="form" ng-submit="login(form)" novalidate>

        <div class="form-group">
          <label>Email</label>

          <input type="email" name="email" class="form-control" ng-model="user.email" required placeholder="votre@email.com">
        </div>

        <div class="form-group" ng-hide="forgotPasswordState">
          <label>Mot de passe</label>

          <input type="password" name="password" class="form-control" ng-model="user.password" required placeholder="Le mot de passe utilisé lors de l'inscription">
        </div>

        <div class="form-group has-error">
          <p class="help-block" ng-show="form.email.$error.required && form.password.$error.required && submitted">
             Please enter your email and password.
          </p>
          <p class="help-block" ng-show="form.email.$error.email && submitted">
             Please enter a valid email.
          </p>

          <p class="help-block">{{ errors.other }}</p>
        </div>

        <div>
          <button class="btn btn-inverse btn-lg btn-login" type="submit" ng-hide="forgotPasswordState">
            Connexion
          </button>
          <button class="btn btn-inverse btn-lg btn-login" ng-click="reset()" ng-show="forgotPasswordState">
            Définir un nouveau mot de passe
          </button>
          <div ng-hide="forgotPasswordState">
            Mot de passe égaré ? <br/>
            <a class="" href="#" prevent-default ng-click="enablePasswordRetrieval()">
              Lancer la procédure de récupération du mot de passe
            </a>
          </div>
          <div ng-show="forgotPasswordState">
            <a class="" href="#" prevent-default ng-click="enablePasswordRetrieval(false)">
              Revenir au formulaire de connexion
            </a>
          </div>
        </div>

      </form>
    </div>
  </div>
  <hr>
</div>
